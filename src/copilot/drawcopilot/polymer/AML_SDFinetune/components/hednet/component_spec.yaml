$schema: http://azureml/sdk-2-0/CommandComponent.json
name: hednet
version: 0.0.1
display_name: hednet
type: CommandComponent
description: training hednet
is_deterministic: false
# tags:
#   Office:
#   helpDocument: https://aka.ms/aml/compliant
#   contact: aml-ds-1p-enablers@microsoft.com
inputs:
  heddatadir:
    type: AnyDirectory
    optional: false
outputs:
  model_output_dir:
    type: AnyDirectory
    description: Output model

command: >-
  python hed-train/main.py  --savedir {outputs.model_output_dir} --iter-size 24 -j 4  --epochs 20 --lr 0.001  --datadir {inputs.heddatadir}/BSDS500
environment:
  docker:
    image: mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.8-cudnn8-ubuntu22.04
  conda:
    conda_dependencies_file: component_env.yaml
  os: Linux

